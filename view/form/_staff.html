<div class="list" ng-if="!filter.substate">
    <a class="item item-button-left subHeader-form-bar" ng-click="filter.state = 'form';
        filter.actionBtnShow = false">
        <div class="back-arrow ion-ios-arrow-left"></div>
        <div class="header-prj-text" style="width: calc(100% - 50px);"><span style="max-width: 35%; display: inline-block;text-overflow: ellipsis;overflow: hidden;vertical-align: middle;">{{formData.name}}</span>
            <span style="vertical-align: middle;display:inline-block">&nbsp;/&nbsp;Resource</span> <span style="float:right;display: inline-block;margin-right: -25px;vertical-align: middle">Done</span></div>
    </a>
    <form class="form-new-fields">
        <!--        <div class="item" ng-repeat="resource in staffField.resources" ng-click="filter.substate = resource">
                    <span ng-if="!resource.name">Staff {{$index + 1}}</span>
                    <span ng-if="resource.name">{{resource.name}}</span>
                </div>      -->

        <ion-list show-delete="data.showDelete">
            <ion-item ng-repeat="resource in staffField.resources" item="resource" class="item-remove-animate" ng-click="filter.substate = resource">
                <span ng-if="!resource.name">Staff {{$index + 1}}</span>
                <span ng-if="resource.name">{{resource.name}}</span>
                <ion-option-button class="button-assertive" ng-click="deleteElement(staffField.resources, resource)" ng-if="filter.edit">
                    Delete
                </ion-option-button>                
            </ion-item>
        </ion-list>

    </form>
</div>
<div class="list" ng-if="filter.substate">
    <a class="item item-button-left subHeader-form-bar" ng-click="filter.substate = null;
        filter.actionBtnShow = true">
        <div class="back-arrow ion-ios-arrow-left"></div>
        <div class="header-prj-text" style="width: calc(100% - 50px);"><span style="max-width: 35%; display: inline-block;text-overflow: ellipsis;overflow: hidden;vertical-align: middle;">{{formData.name}}</span>
            <span style="vertical-align: middle;display:inline-block">&nbsp;/&nbsp;Resource</span> <span style="float:right;display: inline-block;margin-right: -25px;vertical-align: middle">Save</span></div>
    </a>
    <div class="formTitle">
        <div class="header-prj-text"> Design: {{formData.name}}</div>
        <div class="blue-label">{{formData.code}}</div>
    </div>
    <form class="form-container-bgd">
        <div style="position: relative; margin-bottom:5px">
            <div class="item-stable item fs all-field-header isOpen" style="width:100%">
                <div class="fieldSet-name" ng-if="filter.substate.name">{{filter.substate.name}}</div>
                <div class="fieldSet-name" ng-if="!filter.substate.name">Staff field</div>
            </div>
            <div class="blue-dropArrow"></div>
            <div class="formContent">                
                <div class="calm-border">
                    <label class="item item-input item-stacked-label calm-border">
                        <div class="inputLabel" style="padding-top: 10px;">
                            <span class="all-name">Name</span>
                        </div>                                    
                        <input style="padding-left:15px; padding-right:15px;border-top-left-radius: 0px; border-top-right-radius: 0px;" ng-model="filter.substate.name" ng-disabled="!filter.edit">
                    </label>
                </div>
                <div class="calm-border">
                    <label class="item item-input item-stacked-label calm-border">
                        <div class="inputLabel" style="padding-top: 10px;">
                            <span class="all-name">Product ref</span>
                        </div>
                        <input style="padding-left:15px; padding-right:15px;border-top-left-radius: 0px; border-top-right-radius: 0px;" ng-model="filter.substate.product_ref" ng-disabled="!filter.edit">
                    </label>
                </div>       
                <div class="calm-border">
                    <label class="item item-input item-stacked-label calm-border">
                        <div class="inputLabel" style="padding-top: 10px;">
                            <span class="all-name">Resource type</span>
                        </div>
                        <select class="form-select" ng-options="option as option.name for option in resource_type_list track by option.id" ng-model="filter.substate.res_type_obj" ng-disabled="!filter.edit"></select>
                    </label>
                </div>
                <div class="calm-border">
                    <label class="item item-input item-stacked-label calm-border">
                        <div class="inputLabel" style="padding-top: 10px;">
                            <span class="all-name">Role</span>
                        </div>                                    
                        <input style="padding-left:15px; padding-right:15px;border-top-left-radius: 0px; border-top-right-radius: 0px;" ng-model="filter.substate.staff_role" ng-disabled="!filter.edit">
                    </label>
                </div>
                <div class="calm-border">
                    <label class="item item-input item-stacked-label calm-border">
                        <div class="inputLabel" style="padding-top: 10px;">
                            <span class="all-name">Email</span>
                        </div>                                    
                        <input style="padding-left:15px; padding-right:15px;border-top-left-radius: 0px; border-top-right-radius: 0px;" ng-model="filter.substate.email" ng-disabled="!filter.edit">
                    </label>
                </div>
                <div class="calm-border">
                    <label class="item item-input item-stacked-label calm-border">
                        <div class="inputLabel" style="padding-top: 10px;">
                            <span class="all-name">Telephone No.</span>
                        </div>                                    
                        <input style="padding-left:15px; padding-right:15px;border-top-left-radius: 0px; border-top-right-radius: 0px;" ng-model="filter.substate.telephone_number" ng-disabled="!filter.edit">
                    </label>
                </div>
                <div class="calm-border">
                    <label class="item item-input item-stacked-label calm-border">
                        <div class="inputLabel" style="padding-top: 10px;">
                            <span class="all-name">Safety card number</span>
                        </div>                                    
                        <input style="padding-left:15px; padding-right:15px;border-top-left-radius: 0px; border-top-right-radius: 0px;" ng-model="filter.substate.safety_card_number" ng-disabled="!filter.edit" >
                    </label>
                </div>
                <div class="calm-border">
                    <label class="item item-input item-stacked-label calm-border" ion-datetime-picker date ng-model="filter.substate.expiry_date_obj" ng-if="filter.edit">
                        <div class="inputLabel" style="padding-top: 10px;">
                            <span class="all-name">Expiry date</span>
                        </div>                     
                        <div style="padding-left: 15px;padding-right: 15px;border-top-left-radius: 0px;border-top-right-radius: 0px;overflow: hidden;height: 46px;padding-top: 12px;font-size: 14px;color: #000;background-color: #fff;">
                            {{filter.substate.expiry_date_obj| date: "dd-MM-yyyy"}}
                        </div>
                    </label>
                    <label class="item item-input item-stacked-label calm-border" ng-model="filter.substate.expiry_date_obj" ng-if="!filter.edit">
                        <div class="inputLabel" style="padding-top: 10px;">
                            <span class="all-name">Expiry date</span>
                        </div>                     
                        <div style="padding-left: 15px;padding-right: 15px;border-top-left-radius: 0px;border-top-right-radius: 0px;overflow: hidden;height: 46px;padding-top: 12px;font-size: 14px;color: #000;background-color: #fff;">
                            {{filter.substate.expiry_date_obj| date: "dd-MM-yyyy"}}
                        </div>
                    </label>
                </div>
                <div class="calm-border">
                    <label class="item item-input item-stacked-label calm-border">
                        <div class="inputLabel" style="padding-top: 10px;">
                            <span class="all-name">Absenteeism reason</span>
                        </div>
                        <select class="form-select" ng-options="option as option.reason for option in abs_list track by option.id" ng-model="filter.substate.absenteeism_obj" ng-disabled="!filter.edit"></select>
                    </label>
                </div>
                <div class="calm-border">
                    <label class="item item-input item-stacked-label calm-border" ion-datetime-picker date ng-model="filter.substate.current_day_obj" ng-if="filter.edit">
                        <div class="inputLabel" style="padding-top: 10px;">
                            <span class="all-name">Date</span>
                        </div>
                        <div style="padding-left: 15px;padding-right: 15px;border-top-left-radius: 0px;border-top-right-radius: 0px;overflow: hidden;height: 46px;padding-top: 12px;font-size: 14px;color: #000;background-color: #fff;">
                            {{filter.substate.current_day_obj| date: "dd-MM-yyyy"}}
                        </div>
                    </label>
                    <label class="item item-input item-stacked-label calm-border" ng-model="filter.substate.current_day_obj" ng-if="!filter.edit">
                        <div class="inputLabel" style="padding-top: 10px;">
                            <span class="all-name">Date</span>
                        </div>
                        <div style="padding-left: 15px;padding-right: 15px;border-top-left-radius: 0px;border-top-right-radius: 0px;overflow: hidden;height: 46px;padding-top: 12px;font-size: 14px;color: #000;background-color: #fff;">
                            {{filter.substate.current_day_obj| date: "dd-MM-yyyy"}}
                        </div>
                    </label>
                </div>
                <div class="calm-border" ng-if="staffField.withTimes" ion-datetime-picker time ng-if="filter.edit">
                    <label class="item item-input item-stacked-label calm-border" ion-datetime-picker time ng-model="filter.substate.start_time_obj">
                        <div class="inputLabel" style="padding-top: 10px;">
                            <span class="all-name">Start</span>
                        </div>
                        <div style="padding-left: 15px;padding-right: 15px;border-top-left-radius: 0px;border-top-right-radius: 0px;overflow: hidden;height: 46px;padding-top: 12px;font-size: 14px;color: #000;background-color: #fff;">
                            {{filter.substate.start_time_obj| date: "H:mm"}}
                        </div>
                    </label>
                </div>
                <div class="calm-border" ng-if="staffField.withTimes" ng-if="!filter.edit">
                    <label class="item item-input item-stacked-label calm-border" ion-datetime-picker time ng-model="filter.substate.start_time_obj">
                        <div class="inputLabel" style="padding-top: 10px;">
                            <span class="all-name">Start</span>
                        </div>
                        <div style="padding-left: 15px;padding-right: 15px;border-top-left-radius: 0px;border-top-right-radius: 0px;overflow: hidden;height: 46px;padding-top: 12px;font-size: 14px;color: #000;background-color: #fff;">
                            {{filter.substate.start_time_obj| date: "H:mm"}}
                        </div>
                    </label>
                </div>
                <div class="calm-border" ng-if="staffField.withTimes" ion-datetime-picker time ng-if="filter.edit">
                    <label class="item item-input item-stacked-label calm-border" ion-datetime-picker time ng-model="filter.substate.break_time_obj">
                        <div class="inputLabel" style="padding-top: 10px;">
                            <span class="all-name">Break</span>
                        </div>
                        <div style="padding-left: 15px;padding-right: 15px;border-top-left-radius: 0px;border-top-right-radius: 0px;overflow: hidden;height: 46px;padding-top: 12px;font-size: 14px;color: #000;background-color: #fff;">
                            {{filter.substate.break_time_obj| date: "H:mm"}}
                        </div>
                    </label>
                </div>
                <div class="calm-border" ng-if="staffField.withTimes" ng-if="!filter.edit">
                    <label class="item item-input item-stacked-label calm-border" ion-datetime-picker time ng-model="filter.substate.break_time_obj">
                        <div class="inputLabel" style="padding-top: 10px;">
                            <span class="all-name">Break</span>
                        </div>
                        <div style="padding-left: 15px;padding-right: 15px;border-top-left-radius: 0px;border-top-right-radius: 0px;overflow: hidden;height: 46px;padding-top: 12px;font-size: 14px;color: #000;background-color: #fff;">
                            {{filter.substate.break_time_obj| date: "H:mm"}}
                        </div>
                    </label>
                </div>
                <div class="calm-border"  ng-if="staffField.withTimes" ion-datetime-picker time ng-model="filter.substate.finish_time_obj" ng-if="filter.edit">
                    <label class="item item-input item-stacked-label calm-border">
                        <div class="inputLabel" style="padding-top: 10px;">
                            <span class="all-name">End</span>
                        </div>
                        <div style="padding-left: 15px;padding-right: 15px;border-top-left-radius: 0px;border-top-right-radius: 0px;overflow: hidden;height: 46px;padding-top: 12px;font-size: 14px;color: #000;background-color: #fff;">
                            {{filter.substate.finish_time_obj| date: "H:mm"}}
                        </div>
                    </label>
                </div>
                <div class="calm-border"  ng-if="staffField.withTimes" ng-model="filter.substate.finish_time_obj" ng-if="!filter.edit">
                    <label class="item item-input item-stacked-label calm-border">
                        <div class="inputLabel" style="padding-top: 10px;">
                            <span class="all-name">End</span>
                        </div>
                        <div style="padding-left: 15px;padding-right: 15px;border-top-left-radius: 0px;border-top-right-radius: 0px;overflow: hidden;height: 46px;padding-top: 12px;font-size: 14px;color: #000;background-color: #fff;">
                            {{filter.substate.finish_time_obj| date: "H:mm"}}
                        </div>
                    </label>
                </div>
                <div class="calm-border">
                    <label class="item item-input item-stacked-label calm-border">
                        <div class="inputLabel" style="padding-top: 10px;">
                            <span class="all-name">Direct cost</span>
                        </div>
                        <input style="padding-left:15px; padding-right:15px;border-top-left-radius: 0px; border-top-right-radius: 0px;" type="number" ng-model="filter.substate.direct_cost" ng-disabled="!filter.edit" >
                    </label>
                </div>
            </div>
        </div>
    </form>                
</div>